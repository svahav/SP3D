<template>
  <div class="order-summary" id="orderSummary">
    <h2 class="summary-title">סיכום הזמנות</h2>

    <table class="order-table">
      <thead>
        <tr>
          <th>שם</th>
          <th>מנה</th>
          <th>מחיר</th>
        </tr>
      </thead>
      <tbody>
        <template for:each={orders} for:item="item">
          <tr key={item.id}>
            <td>{item.name}</td>
            <td>{item.dish}</td>
            <td>₪{item.price}</td>
          </tr>
        </template>
      </tbody>
    </table>

    <div class="totals">
      <p><strong>סה״כ כל ההזמנות:</strong> ₪{totalAll}</p>
    </div>

    <div class="families-summary">
      <h3>סיכום לפי משפחה</h3>
      <ul>
        <template for:each={groupedOrders} for:item="group">
          <li key={group.name}>
            <strong>{group.name}:</strong> ₪{group.total}
          </li>
        </template>
      </ul>
    </div>

    <button class="reset-button" onclick={handleResetOrders}>איפוס הזמנות</button>
  </div>
</template>